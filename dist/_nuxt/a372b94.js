(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{232:function(t,e,o){var r=o(5);e.f=r},233:function(t,e,o){var content=o(247);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("666e3e83",content,!0,{sourceMap:!1})},234:function(t,e,o){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},235:function(t,e,o){var content=o(250);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("3c2a037f",content,!0,{sourceMap:!1})},236:function(t,e,o){var content=o(254);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("1b7833da",content,!0,{sourceMap:!1})},238:function(t,e,o){"use strict";o.r(e);o(79),o(55),o(111),o(58);var r=o(240),n=function(t,e){return t.year>e.year?1:-1},c=function(t,e){return t.rating>e.rating?1:-1},l={components:{Book:r.default},props:{books:{type:Array,default:function(){return[]}}},data:function(){return{searchTitle:"",searchAthor:"",byTitle:!0,byAuthor:!1,sortParam:""}},computed:{filteredBooks:function(){var t=this;return this.books.slice().filter((function(e){return t.byTitle?e.title.toLowerCase().includes(t.searchTitle.toLowerCase()):t.byAuthor?e.author.toLowerCase().includes(t.searchAthor.toLowerCase()):void 0}))},sortedBooks:function(){switch(this.sortParam){case"year":return this.filteredBooks.slice().sort(n);case"year-reverse":return this.filteredBooks.slice().sort(n).reverse();case"rating":return this.filteredBooks.slice().sort(c);case"rating-reverse":return this.filteredBooks.slice().sort(c).reverse();default:return this.filteredBooks.slice()}}},methods:{changeIsMarked:function(){this.isMarked=!this.isMarked},searchByAuthor:function(){this.byAuthor=!0,this.byTitle=!1},searchByTitle:function(){this.byTitle=!0,this.byAuthor=!1}}},f=(o(249),o(31)),component=Object(f.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"board"},[o("div",{staticClass:"board__menu"},[o("div",{staticClass:"search"},[t._v("\n      Поиск\n      "),o("button",{attrs:{type:"button"},on:{click:function(e){return t.searchByAuthor()}}},[t._v("\n        по автору\n      ")]),t._v(" "),o("button",{attrs:{type:"button"},on:{click:function(e){return t.searchByTitle()}}},[t._v("\n        по названию\n      ")]),t._v(" "),o("input",{directives:[{name:"show",rawName:"v-show",value:t.byTitle,expression:"byTitle"},{name:"model",rawName:"v-model",value:t.searchTitle,expression:"searchTitle"}],attrs:{type:"search",placeholder:"Поиск по названию"},domProps:{value:t.searchTitle},on:{input:function(e){e.target.composing||(t.searchTitle=e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"show",rawName:"v-show",value:t.byAuthor,expression:"byAuthor"},{name:"model",rawName:"v-model",value:t.searchAthor,expression:"searchAthor"}],attrs:{type:"search",placeholder:"Поиск по автору"},domProps:{value:t.searchAthor},on:{input:function(e){e.target.composing||(t.searchAthor=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"sort"},[t._v("\n      сортировать по:\n      "),o("div",{staticClass:"sort__buttons"},[t._v("\n        году написания\n        "),o("button",{staticClass:"sort__button sort__button--up",on:{click:function(e){t.sortParam="year"}}},[t._v("\n          по возрастанию\n        ")]),t._v(" "),o("button",{staticClass:"sort__button sort__button--down",on:{click:function(e){t.sortParam="year-reverse"}}},[t._v("\n          по убыванию\n        ")])]),t._v(" "),o("div",{staticClass:"sort__buttons"},[t._v("\n        рейтингу\n        "),o("button",{staticClass:"sort__button sort__button--up",on:{click:function(e){t.sortParam="rating"}}},[t._v("\n          по возрастанию\n        ")]),t._v(" "),o("button",{staticClass:"sort__button sort__button--down",on:{click:function(e){t.sortParam="rating-reverse"}}},[t._v("\n          по убыванию\n        ")])])])]),t._v(" "),o("ul",{staticClass:"book-list"},t._l(t.sortedBooks,(function(t){return o("li",{key:t.title},[o("Book",{staticClass:"book-list__book",attrs:{book:t}})],1)})),0)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Book:o(240).default})},240:function(t,e,o){"use strict";o.r(e);o(242),o(245),o(163);var r={props:{book:{type:Object,default:function(){}}},data:function(){return{title:this.book.title,rating:this.book.rating,year:this.book.year,description:this.book.description,author:this.book.author,tagline:this.book.tagline,userMark:0,isMarked:!1}},computed:{humanityRating:function(){return parseFloat(this.rating.reduce((function(a,b){return a+b}),0)/this.rating.length)}},methods:{changeIsMarked:function(){this.isMarked=!this.isMarked},estimateBook:function(){this.changeIsMarked();var t=this.book.id,mark=this.userMark;this.$store.dispatch("SAVE_MARK",{bookId:t,mark:mark})}}},n=(o(246),o(31)),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("article",{staticClass:"book"},[r("nuxt-link",{staticClass:"book__wrapper",attrs:{to:"/"+t.book.cTitle}},[r("div",{staticClass:"book__wrapper-inner"},[r("div",{staticClass:"book__front"},[r("img",{attrs:{src:o(241),alt:"обложка"}}),t._v(" "),r("div",{staticClass:"book__content"},[r("div",{staticClass:"book__tagline"},[t._v("\n            "+t._s(t.tagline)+"\n          ")]),t._v(" "),r("h3",{staticClass:"book__title"},[t._v("\n            "+t._s(t.title)+"\n          ")]),t._v(" "),r("div",{staticClass:"book__author"},[r("span",[t._v("Written By")]),t._v(" "),r("span",[t._v(t._s(t.author))])])])]),t._v(" "),r("div",{staticClass:"book__back"},[r("div",{staticClass:"book__back-wrapper"},[r("div",[r("span",[t._v("book written in "+t._s(t.year))]),t._v(" "),r("span",[t._v("средняя оценка пользователей "+t._s(t.humanityRating))])]),t._v(" "),r("p",[t._v(t._s(t.description))])])])])]),t._v(" "),r("div",[t.isMarked?r("div",[t._v("\n      Ваша оценка "),r("span",{staticClass:"book__mark"},[t._v(t._s(t.userMark))]),t._v(" "),r("button",{attrs:{type:"button"},on:{click:t.changeIsMarked}},[t._v("\n        изменить оценку\n      ")])]):r("div",[t._v("\n      Поставьте оценку\n      "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.userMark,expression:"userMark"}],attrs:{type:"text",placeholder:"rating"},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.userMark=e.target.multiple?o:o[0]},t.estimateBook]}},[r("option",{attrs:{value:"1"}},[t._v("\n          1\n        ")]),t._v(" "),r("option",{attrs:{value:"2"}},[t._v("\n          2\n        ")]),t._v(" "),r("option",{attrs:{value:"3"}},[t._v("\n          3\n        ")]),t._v(" "),r("option",{attrs:{value:"4"}},[t._v("\n          4\n        ")]),t._v(" "),r("option",{attrs:{value:"5"}},[t._v("\n          5\n        ")])])])])],1)}),[],!1,null,null,null);e.default=component.exports},241:function(t,e,o){t.exports=o.p+"img/book-bg.e402ec6.jpg"},242:function(t,e,o){"use strict";var r=o(2),n=o(4),c=o(28),l=o(22),f=o(9),d=o(110),v=o(162),h=o(6),_=o(8),k=o(78),y=o(10),m=o(7),w=o(20),x=o(26),O=o(54),j=o(40),C=o(56),S=o(57),P=o(74),B=o(243),M=o(109),A=o(32),T=o(18),E=o(75),N=o(19),z=o(15),L=o(107),$=o(76),D=o(77),I=o(108),R=o(5),J=o(232),Y=o(244),F=o(41),Q=o(27),W=o(33).forEach,K=$("hidden"),V=R("toPrimitive"),X=Q.set,G=Q.getterFor("Symbol"),H=Object.prototype,U=n.Symbol,Z=c("JSON","stringify"),tt=A.f,et=T.f,ot=B.f,nt=E.f,it=L("symbols"),st=L("op-symbols"),at=L("string-to-symbol-registry"),ct=L("symbol-to-string-registry"),ut=L("wks"),lt=n.QObject,pt=!lt||!lt.prototype||!lt.prototype.findChild,ft=f&&h((function(){return 7!=C(et({},"a",{get:function(){return et(this,"a",{value:7}).a}})).a}))?function(t,e,o){var r=tt(H,e);r&&delete H[e],et(t,e,o),r&&t!==H&&et(H,e,r)}:et,bt=function(t,e){var symbol=it[t]=C(U.prototype);return X(symbol,{type:"Symbol",tag:t,description:e}),f||(symbol.description=e),symbol},vt=v?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof U},ht=function(t,e,o){t===H&&ht(st,e,o),m(t);var r=O(e,!0);return m(o),_(it,r)?(o.enumerable?(_(t,K)&&t[K][r]&&(t[K][r]=!1),o=C(o,{enumerable:j(0,!1)})):(_(t,K)||et(t,K,j(1,{})),t[K][r]=!0),ft(t,r,o)):et(t,r,o)},_t=function(t,e){m(t);var o=x(e),r=S(o).concat(mt(o));return W(r,(function(e){f&&!gt.call(o,e)||ht(t,e,o[e])})),t},gt=function(t){var e=O(t,!0),o=nt.call(this,e);return!(this===H&&_(it,e)&&!_(st,e))&&(!(o||!_(this,e)||!_(it,e)||_(this,K)&&this[K][e])||o)},kt=function(t,e){var o=x(t),r=O(e,!0);if(o!==H||!_(it,r)||_(st,r)){var n=tt(o,r);return!n||!_(it,r)||_(o,K)&&o[K][r]||(n.enumerable=!0),n}},yt=function(t){var e=ot(x(t)),o=[];return W(e,(function(t){_(it,t)||_(D,t)||o.push(t)})),o},mt=function(t){var e=t===H,o=ot(e?st:x(t)),r=[];return W(o,(function(t){!_(it,t)||e&&!_(H,t)||r.push(it[t])})),r};(d||(z((U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=I(t),o=function(t){this===H&&o.call(st,t),_(this,K)&&_(this[K],e)&&(this[K][e]=!1),ft(this,e,j(1,t))};return f&&pt&&ft(H,e,{configurable:!0,set:o}),bt(e,t)}).prototype,"toString",(function(){return G(this).tag})),z(U,"withoutSetter",(function(t){return bt(I(t),t)})),E.f=gt,T.f=ht,A.f=kt,P.f=B.f=yt,M.f=mt,J.f=function(t){return bt(R(t),t)},f&&(et(U.prototype,"description",{configurable:!0,get:function(){return G(this).description}}),l||z(H,"propertyIsEnumerable",gt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:U}),W(S(ut),(function(t){Y(t)})),r({target:"Symbol",stat:!0,forced:!d},{for:function(t){var e=String(t);if(_(at,e))return at[e];var symbol=U(e);return at[e]=symbol,ct[symbol]=e,symbol},keyFor:function(t){if(!vt(t))throw TypeError(t+" is not a symbol");if(_(ct,t))return ct[t]},useSetter:function(){pt=!0},useSimple:function(){pt=!1}}),r({target:"Object",stat:!0,forced:!d,sham:!f},{create:function(t,e){return void 0===e?C(t):_t(C(t),e)},defineProperty:ht,defineProperties:_t,getOwnPropertyDescriptor:kt}),r({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:yt,getOwnPropertySymbols:mt}),r({target:"Object",stat:!0,forced:h((function(){M.f(1)}))},{getOwnPropertySymbols:function(t){return M.f(w(t))}}),Z)&&r({target:"JSON",stat:!0,forced:!d||h((function(){var symbol=U();return"[null]"!=Z([symbol])||"{}"!=Z({a:symbol})||"{}"!=Z(Object(symbol))}))},{stringify:function(t,e,o){for(var r,n=[t],c=1;arguments.length>c;)n.push(arguments[c++]);if(r=e,(y(e)||void 0!==t)&&!vt(t))return k(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!vt(e))return e}),n[1]=e,Z.apply(null,n)}});U.prototype[V]||N(U.prototype,V,U.prototype.valueOf),F(U,"Symbol"),D[K]=!0},243:function(t,e,o){var r=o(26),n=o(74).f,c={}.toString,l="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return l&&"[object Window]"==c.call(t)?function(t){try{return n(t)}catch(t){return l.slice()}}(t):n(r(t))}},244:function(t,e,o){var path=o(161),r=o(8),n=o(232),c=o(18).f;t.exports=function(t){var e=path.Symbol||(path.Symbol={});r(e,t)||c(e,t,{value:n.f(t)})}},245:function(t,e,o){"use strict";var r=o(2),n=o(9),c=o(4),l=o(8),f=o(10),d=o(18).f,v=o(160),h=c.Symbol;if(n&&"function"==typeof h&&(!("description"in h.prototype)||void 0!==h().description)){var _={},k=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof k?new h(t):void 0===t?h():h(t);return""===t&&(_[e]=!0),e};v(k,h);var y=k.prototype=h.prototype;y.constructor=k;var m=y.toString,w="Symbol(test)"==String(h("test")),x=/^Symbol\((.*)\)[^)]+$/;d(y,"description",{configurable:!0,get:function(){var symbol=f(this)?this.valueOf():this,t=m.call(symbol);if(l(_,symbol))return"";var desc=w?t.slice(7,-1):t.replace(x,"$1");return""===desc?void 0:desc}}),r({global:!0,forced:!0},{Symbol:k})}},246:function(t,e,o){"use strict";o(233)},247:function(t,e,o){var r=o(52),n=o(234),c=o(248);e=r(!1);var l=n(c);e.push([t.i,".book{padding-top:10px;padding-bottom:10px}.book img{width:100%;height:auto;border-radius:5px;overflow:hidden}.book__wrapper{cursor:pointer;position:relative;-webkit-backface-visibility:visible;backface-visibility:visible}.book__wrapper-inner{display:block;position:relative;transition:transform .7s;transform-style:preserve-3d;perspective:800px}.book__wrapper:hover .book__wrapper-inner{transform:translateX(-35%) rotateY(-180deg) scale(.7)}.book__tagline{text-transform:uppercase;font-size:14px}.book__content{position:absolute;color:#b19a4c;top:30px;bottom:35px;left:0;right:0;text-align:center;display:flex;flex-direction:column;justify-content:space-between;align-items:center}.book__title{font-style:italic;max-width:50%}.book__back{position:absolute;left:-100%;right:0;top:0;bottom:0;z-index:2;background:transparent;transform:rotateY(180deg);color:brown;font-size:28px;line-height:32px;padding:30px;background-image:url("+l+");background-size:contain;background-repeat:no-repeat;-webkit-backface-visibility:hidden;backface-visibility:hidden}.book__back-wrapper{display:flex;justify-content:space-between}.book__back-wrapper *{width:45%}.book__front{height:100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;position:relative;z-index:1}.book__author{display:flex;flex-direction:column}.book__mark{color:#ffbc00;font-size:20px;font-style:italic;font-weight:700}",""]),t.exports=e},248:function(t,e,o){t.exports=o.p+"img/back-book-bg.1cba675.png"},249:function(t,e,o){"use strict";o(235)},250:function(t,e,o){var r=o(52),n=o(234),c=o(251),l=o(252);e=r(!1);var f=n(c),d=n(l);e.push([t.i,".board{background-image:url("+f+");border-radius:10px;overflow:hidden;color:#d4d0c2;font-weight:500;border:5px solid brown}.board__menu{padding:20px}.book-list{list-style:none;margin:0;display:flex;flex-wrap:wrap;overflow:hidden;padding-left:0}.book-list li{padding:25px 50px;margin:10px 0;width:25%;background-image:url("+d+');background-size:100% 100%;background-repeat:no-repeat;-webkit-backface-visibility:hidden;backface-visibility:hidden}.sort{margin-top:20px}.sort__buttons{padding-top:10px;padding-bottom:10px;margin-left:5px}.sort__button{position:relative;padding-right:30px}.sort__button:after,.sort__button:before{content:"";display:block;position:absolute}.sort__button:before{width:15px;height:1px;right:7px;top:50%;background-color:#000}.sort__button:after{width:8px;height:8px;border-right:1px solid #000}.sort__button--down:before{transform:translateY(-50%) rotate(45deg)}.sort__button--down:after{border-bottom:1px solid #000;right:8px;bottom:5px}.sort__button--up:before{transform:translateY(-50%) rotate(-45deg)}.sort__button--up:after{border-top:1px solid #000;top:6px;right:9px}',""]),t.exports=e},251:function(t,e,o){t.exports=o.p+"img/bg-fill.6904234.jpg"},252:function(t,e,o){t.exports=o.p+"img/book-border.c7905bc.png"},253:function(t,e,o){"use strict";o(236)},254:function(t,e,o){(e=o(52)(!1)).push([t.i,".container{margin:0 auto;padding-left:15px;padding-right:15px}.subtitle{font-weight:300;font-size:42px;color:#526488;word-spacing:5px;padding-bottom:15px}.links{padding-top:15px}",""]),t.exports=e},257:function(t,e,o){"use strict";o.r(e);var r=o(24),n=(o(30),o(3)),c=o(48);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}var f={components:{BookList:o(238).default},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.app,t.route,t.params,o=t.error,r=t.store,e.prev=1,e.next=4,r.dispatch("getBooks");case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",o({statusCode:404,message:"Категории не найдены или сервер не доступен"}));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))()},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(c.b)({books:"books"}))},d=(o(253),o(31)),component=Object(d.a)(f,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("h1",{staticClass:"title"},[this._v("\n    Книгопоиск\n  ")]),this._v(" "),e("BookList",{attrs:{books:this.books}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{BookList:o(238).default})}}]);